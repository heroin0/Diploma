\chapter{Практическая часть}
\
\section{Наборы тестов}

Для оценки эффективности работы алгоритма было проведено его тестирование на различных наборах тестов.
Первый набор тестов взят из книги Петерсена(см. \cite{Петерсен1967}) и содержит 7 задач. Условия этих задач(см таблицу \ref{table1}) позволяют проверить эффективность простейшей версии генетического алгоритма без модификаций(см. \ref{upgrades}) и оценить её эффективность. %оформление цитаты

\begin{table}[ht]%таблица выглядит очень странно ---
\centering
\begin{tabular}{|c|c|c|}
\hline
№ задачи & Размерность & Количество предметов \\ \hline
1        & 6           & 10                   \\ \hline
2        & 10          & 10                   \\ \hline
3        & 15          & 10                   \\ \hline
4        & 20          & 10                   \\ \hline
5        & 28          & 10                   \\ \hline
6        & 39          & 5                    \\ \hline
7        & 50          & 5                    \\ \hline
\end{tabular}
\caption{Параметры первого набора тестов}
\label{table1}
\end{table}  

Второй набор тестов взят из статьи Чу (см. \cite{Чу1998}) и содержит в себе 30 задач с одинаковыми параметрами: размерность рюкзака равна 5, рассматривается 100 различных предметов.
Для каждого набора тестов известно лучшее решение, эффективность алгоритма оценивалась по скорости поиска решения и числу итераций. Этот набор тестов использовался со вс

Для тестирования использовался компьютер с следующей аппаратно-программной базой:
\begin{itemize}
\item {Процессор: Intel\textregistered Core\texttrademark i5-3230M CPU @ 2.60GHz (4 CPUs), ~2.6GHz}
\item {Количество оперативной памяти: 6144MB RAM}
\item {Материнская плата: SAMSUNG NP370-R5E}
\item {Операционная система: Windows 10 Домашняя для одного языка 64-bit (10.0, Build 15063) (15063.rs2\_release.170317-1834)}
\end{itemize}
Для сборки использовалась программная платформа .NET Framework 4.5.2.

\section{Первый набор тестов}
Рассмотрим результаты работы алгоритма без модификаций на первом наборе тестов. Экпериментальным образом были подобраны количество конфигураций в пуле(10) и процент мутирующих особей(20%). Рассматриваются медианные значения за 10 запусков. 
\subsection{Мутация в одной позиции}
Данная мутация показала себя эффективной с точки зрения решения задачи - для всех возможных вариантов скрещивания во всех тестах найден оптимальный результат(см таблицы \ref{SingleMutSingleCross}, \ref{SingleMutDoubleCross}, \ref{SingleMutBitCross})
При сравнении результатов скрещивания можно заметить, что алгоритм побитового скрещивания в большинстве случаев несколько уступает в скрости другим алгоритмам.
\begin{table}[ht]
\centering
\begin{tabular}{|c|c|c|}
\hline
№ теста             & Итерации            & Время, мс            \\ \hline
1                   & 6                   & 8                    \\ \hline
2                   & 114340              & 2694                 \\ \hline
3                   & 712                 & 18                   \\ \hline
4                   & 4022                & 92                   \\ \hline
5                   & 3049                & 97                   \\ \hline
6                   & 400974              & 13481                \\ \hline
7                   & 9343432             & 396644               \\ \hline
\end{tabular}
\caption{Одноточечная мутация, одноточечное скрещивание}
\label{SingleMutSingleCross}
\end{table}

\begin{table}[ht]
\centering
\begin{tabular}{|c|c|c|}
\hline
№ теста & Итерации & Время, мс \\ \hline
1       & 21       & 9         \\ \hline
2       & 70930    & 1697      \\ \hline
3       & 901      & 22        \\ \hline
4       & 2092     & 67        \\ \hline
5       & 2672     & 95        \\ \hline
6       & 23261    & 8181      \\ \hline
7       & 4770456  & 199461    \\ \hline
\end{tabular}
\caption{Одноточечная мутация, двуточечное скрещивание}
\label{SingleMutDoubleCross}
\end{table}

\begin{table}[ht]
\centering
\begin{tabular}{|c|c|c|}
\hline
№ теста & Итерации & Время. мс \\ \hline
1       & 3        & 9         \\ \hline
2       & 182633   & 3301      \\ \hline
3       & 1455     & 49        \\ \hline
4       & 7869     & 219       \\ \hline
5       & 2198     & 74        \\ \hline
6       & 289379   & 100133    \\ \hline
7       & 348826   & 139403    \\ \hline
\end{tabular}
\caption{Одноточечная мутация, побитовое скрещивание}
\label{SingleMutBitCross}
\end{table}
\FloatBarrier
\subsection{Инверсионная мутация}
Инверсионная мутация в контексте данной задачи оказалась менее эффективной, для тестов 5-7 решения не были найдены за 20 минут для всех вариантов скрещивания(см табл \ref{InvMutSingleCross}, \ref{InvMutDoubleCross}, \ref{InvMutBitCross}). Неэффективность такого варианта мутации может быть обусловлена применением алгоритма коррекции после мутации, что сводит на нет какой-либо положительный эффект от её применения.
Также можно отметить существенно более высокую скорость решения в сравнении с алгоритмом одноточечной мутации для теста 2.
\begin{table}[ht]
\centering
\begin{tabular}{|c|c|c|}
\hline
№ теста & Итерации & Время. мс \\ \hline
1       & 3        & 6         \\ \hline
2       & 10       & 2         \\ \hline
3       & 58       & 2         \\ \hline
4       & 9538     & 560       \\ \hline
5       & -        & -         \\ \hline
6       & -        & -         \\ \hline
7       & -        & -         \\ \hline
\end{tabular}
\caption{Инверсионная мутация, одноточечное скрещивание}
\label{InvMutSingleCross}
\end{table}

\begin{table}[ht]
\centering
\begin{tabular}{|c|c|c|}
\hline
№ теста & Итерации & Время. мс \\ \hline
1       & 2        & 10        \\ \hline
2       & 16       & 1         \\ \hline
3       & 356      & 19        \\ \hline
4       & 7161     & 422       \\ \hline
5       & -        & -         \\ \hline
6       & -        & -         \\ \hline
7       & -        & -         \\ \hline
\end{tabular}
\caption{Инверсионная мутация, двуточечное скрещивание}
\label{InvMutDoubleCross}
\end{table}

\begin{table}[ht]
\centering
\begin{tabular}{|c|c|c|}
\hline
№ теста & Итерации & Время. мс \\ \hline
1       & 10       & 10        \\ \hline
2       & 23       & 1         \\ \hline
3       & 1409     & 52        \\ \hline
4       & 246001   & 12189     \\ \hline
5       & -        & -         \\ \hline
6       & -        & -         \\ \hline
7       & -        & -         \\ \hline
\end{tabular}
\caption{Инверсионная мутация, побитовое скрещивание}
\label{InvMutBitCross}
\end{table}
\FloatBarrier
\subsection{Выводы по первому тестированию}
Исходя из приведенных тестов, можно считать потвержденной принципиальную возможность реализованного алгоритма быть использованным для решения задачи о многомерном рюкзаке. Наиболее эффективным себя показало двуточечное скрещивание, что может быть обусловлено большим разнообразием порождаемых им особей. Инверсионная мутация обеспечила более высокую скрость в сравнении с одноточечной, но показала себя неэффективной на больших наборах тестов, что может быть обусловлено нарушением функции наследственности при её использовании. 
\section{Второй набор тестов}
Для проверки эффективности второго набора тестов были выбраны  параметры запуска алгоритма, указанные в таблице \ref{ParamTable}. Выбор алгоритмов мутации и скрещивания был обусловлен результатами предыдущего тестирования, максимальное число итераций было подобрано таким образом, чтобы алгоритм завершал работу за 15 минут. Остальные параметры были подобраны экспериментально.

\begin{table}[ht]
\centering
\begin{tabular}{|c|c|}
\hline
Вид скрещивания                            & Двуточечное  \\ \hline
Вид мутации                                & Одноточечная \\ \hline
Размер пула генотипов                      & 10           \\ \hline
Процент мутирующих особей                  & 20\%         \\ \hline
Максимальное число итераций                & 2000000      \\ \hline
Величина отклонения для сброса алгоритма   & 0.01         \\ \hline
Количество итераций до полного перезапуска & 200000       \\ \hline
\end{tabular}
\caption{Параметры запуска второго набора тестов}
\label{ParamTable}
\end{table}
\FloatBarrier
%на чем гоняли
Максимальное число итераций было введено с целью ограничить время работы алгоритма. В случае, если лучшее решение не найдено, программа выдает на печать расхождение лучшего из найденных рещений с текущим.\\
Рассмотрим результаты работы программы на втором наборе тестов.
Для успешных решений среднее время составило 315 с, среднее число итераций - 652 007 (см. табл. \cite{BigResults1})
\begin{table}[ht!]
	\centering
	\begin{tabular}{|c|c|c|}
		\hline
		№ теста & Количество итераций & Время, с \\ \hline
		1       & -                   & 888      \\ \hline
		2       & 197915              & 44       \\ \hline
		3       & -                   & 915      \\ \hline
		4       & -                   & 812      \\ \hline
		5       & -                   & 860      \\ \hline
		6       & -                   & 970      \\ \hline
		7       & 1253381             & 619      \\ \hline
		8       & 83207               & 39       \\ \hline
		9       & 262645              & 255      \\ \hline
		10      & -                   & 963      \\ \hline
		11      & 189635              & 83       \\ \hline
		12      & -                   & 912      \\ \hline
		13      & -                   & 912      \\ \hline
		14      & -                   & 825      \\ \hline
		15      & -                   & 881      \\ \hline
		16      & 942021              & 484      \\ \hline
		17      & -                   & 864      \\ \hline
		18      & 4386                & 5        \\ \hline
		19      & -                   & 880      \\ \hline
		20      & -                   & 865      \\ \hline
		21      & -                   & 734      \\ \hline
		22      & 1735194             & 752      \\ \hline
		23      & -                   & 779      \\ \hline
		24      & 845324              & 428      \\ \hline
		25      & -                   & 812      \\ \hline
		26      & 908217              & 454      \\ \hline
		27      & 594220              & 281      \\ \hline
		28      & 36434               & 35       \\ \hline
		29      & -                   & 895      \\ \hline
		30      & 1423522             & 625      \\ \hline
	\end{tabular}
	\caption{Временная эффективность алгоритма}
	\label{BigResults1}
\end{table}
\FloatBarrier
В 43.3\% случаев генетический алгоритм решил задачу и во всех случаях расхождение найденного и действительного максимумов расходится не более чем на 0,0021 с оптимальным результатом в относительных значениях(см \cite{BigResults2}). Такой результат можно считать успешным и применимым в практической деятельности.

\begin{table}[ht!]
	\centering
	\begin{tabular}{|c|c|}
		\hline
		№ теста & Относительное расхождение с максимумом \\ \hline
		1       & 0,0021                                 \\ \hline
		2       & 0                                      \\ \hline
		3       & 0,0005                                 \\ \hline
		4       & 0.0022                                 \\ \hline
		5       & 0.0018                                 \\ \hline
		6       & 0.0014                                 \\ \hline
		7       & 0                                      \\ \hline
		8       & 0                                      \\ \hline
		9       & 0                                      \\ \hline
		10      & 0,0031                                 \\ \hline
		11      & 0                                      \\ \hline
		12      & 0,0020                                 \\ \hline
		13      & 0,0008                                 \\ \hline
		14      & 0,0001                                 \\ \hline
		15      & 0,0017                                 \\ \hline
		16      & 0                                      \\ \hline
		17      & 0,0006                                 \\ \hline
		18      & 0                                      \\ \hline
		19      & 0,0018                                 \\ \hline
		20      & 0,0005                                 \\ \hline
		21      & 0,0016                                 \\ \hline
		22      & 0                                      \\ \hline
		23      & 0,0008                                 \\ \hline
		24      & 0                                      \\ \hline
		25      & 0,0007                                 \\ \hline
		26      & 0                                      \\ \hline
		27      & 0                                      \\ \hline
		28      & 0                                      \\ \hline
		29      & 0,0006                                 \\ \hline
		30      & 0                                      \\ \hline
	\end{tabular}
	\caption{Эффективность в достижении максимума задачи}
	\label{BigResults2}
\end{table}
\FloatBarrier
